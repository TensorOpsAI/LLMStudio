version: "3.8"

services:
  llmstudio:
    container_name: llmstudio
    build: .
    restart: always
    volumes:
      - ./shared_folder:${GENERAL_SHAREDFOLDER}
    ports:
      - 3000:3000
      - 8001:8001
      - 8002:8002
    env_file: ".env"
    platform: linux/amd64
  # db:
  #   image: postgres # this uses the 'latest' version
  #   environment:
  #     POSTGRES_USER: user
  #     POSTGRES_PASSWORD: 1234 # only do this in development
  #     POSTGRES_DB: llmstudio
  #   volumes:
  #     - ./db:/var/lib/postgresql/data # save data between restarts
  #   ports:
  #     - 5556:5432 # binds port 5556 on your computer to the postgres port!
